<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Eternal Love, Kopal Seth ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&family=Dancing+Script:wght@700&display=swap">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background: #000;
            font-family: 'Playfair Display', serif;
            color: white;
        }

        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            pointer-events: none;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
        }

        #text {
            font-family: 'Great Vibes', cursive;
            font-size: 60px;
            line-height: 1.5;
            text-shadow: 0 0 40px rgba(255, 105, 180, 0.9);
            max-width: 90%;
            pointer-events: auto;
        }

        #proposal {
            font-size: 110px;
            margin: 40px 0;
            animation: glow 2.5s ease-in-out infinite alternate;
            font-family: 'Dancing Script', cursive;
        }

        @keyframes glow {
            from { text-shadow: 0 0 40px rgba(255, 105, 180, 0.9); }
            to { text-shadow: 0 0 80px rgba(255, 182, 193, 1), 0 0 100px pink; }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.08); }
            100% { transform: scale(1); }
        }

        button {
            font-family: 'Great Vibes', cursive;
            font-size: 50px;
            padding: 20px 80px;
            margin: 40px;
            border: none;
            border-radius: 60px;
            cursor: pointer;
            transition: all 0.4s ease;
            pointer-events: auto;
        }

        #yes {
            background: linear-gradient(45deg, #ff6b9d, #ff9ecd, #ffb6c1);
            color: white;
            box-shadow: 0 0 60px rgba(255, 105, 180, 1);
            animation: pulse 2s infinite;
        }

        #yes:hover {
            transform: scale(1.15);
            box-shadow: 0 0 90px rgba(255, 105, 180, 1);
        }

        #no {
            background: rgba(255, 255, 255, 0.15);
            color: #ddd;
            position: absolute;
            font-size: 40px;
            padding: 15px 50px;
        }

        #celebration {
            font-size: 90px;
            line-height: 1.6;
            animation: pulse 1.8s infinite;
            text-shadow: 0 0 70px gold;
            font-family: 'Great Vibes', cursive;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="overlay">
        <div id="text"></div>
    </div>

    <script>
        // Canvas setup
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let w = canvas.width = window.innerWidth;
        let h = canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            initStars();
        });

        // Stars
        let stars = [];
        function initStars() {
            stars = [];
            for (let i = 0; i < 500; i++) {
                stars.push({
                    x: Math.random() * w,
                    y: Math.random() * h,
                    size: Math.random() * 3 + 1,
                    speed: Math.random() * 0.4 + 0.1,
                    opacity: Math.random(),
                    twinkleSpeed: Math.random() * 0.05 + 0.02
                });
            }
        }
        initStars();

        // Shooting stars
        let shootingStars = [];
        function createShootingStar() {
            shootingStars.push({
                x: -200,
                y: Math.random() * h * 0.4,
                length: Math.random() * 250 + 150,
                speed: Math.random() * 15 + 12,
                opacity: 1
            });
        }
        setInterval(createShootingStar, 3000);

        // Fireworks system
        let particles = [];
        let rockets = [];

        function createExplosion(x, y, hue) {
            for (let i = 0; i < 180; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 8 + 3;
                particles.push({
                    x, y,
                    vx: Math.cos(angle) * speed,
                    vy: Math.sin(angle) * speed,
                    color: `hsl(${hue + Math.random() * 60 - 30}, 100%, 60%)`,
                    life: Math.random() * 50 + 70,
                    maxLife: Math.random() * 50 + 70
                });
            }
        }

        function launchRocket() {
            rockets.push({
                x: Math.random() * w * 0.8 + w * 0.1,
                y: h,
                vx: (Math.random() - 0.5) * 3,
                vy: -18 - Math.random() * 6,
                hue: Math.random() * 360,
                trail: []
            });
        }

        // Heart rain
        function launchHearts() {
            const heartInterval = setInterval(() => {
                for (let i = 0; i < 8; i++) {
                    const heart = document.createElement('div');
                    heart.innerHTML = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üåπ', '‚ú®'][Math.floor(Math.random() * 5)];
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * window.innerWidth + 'px';
                    heart.style.top = '-80px';
                    heart.style.fontSize = Math.random() * 50 + 40 + 'px';
                    heart.style.opacity = Math.random() * 0.7 + 0.5;
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '10';
                    document.body.appendChild(heart);

                    let pos = -80;
                    const fall = setInterval(() => {
                        pos += 5;
                        heart.style.top = pos + 'px';
                        if (pos > window.innerHeight + 100) {
                            clearInterval(fall);
                            heart.remove();
                        }
                    }, 20);
                }
            }, 300);
            setTimeout(() => clearInterval(heartInterval), 15000);
        }

        function launchFireworks() {
            for (let i = 0; i < 25; i++) {
                setTimeout(launchRocket, i * 600 + Math.random() * 400);
            }
        }

        function animate() {
            // Background gradient
            const grd = ctx.createLinearGradient(0, 0, 0, h);
            grd.addColorStop(0, '#0f0c29');
            grd.addColorStop(0.3, '#302b63');
            grd.addColorStop(0.7, '#24243e');
            grd.addColorStop(1, '#120b2a');
            ctx.fillStyle = grd;
            ctx.fillRect(0, 0, w, h);

            // Stars
            stars.forEach(star => {
                star.opacity += star.twinkleSpeed;
                if (star.opacity >= 1 || star.opacity <= 0.4) star.twinkleSpeed *= -1;

                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;
                ctx.fill();

                star.y += star.speed;
                if (star.y > h) star.y = 0;
                star.x -= star.speed * 0.3;
                if (star.x < 0) star.x = w;
            });

            // Shooting stars
            shootingStars.forEach((ss, i) => {
                ctx.beginPath();
                ctx.moveTo(ss.x, ss.y);
                ctx.lineTo(ss.x + ss.length, ss.y + ss.length / 4);
                ctx.strokeStyle = `rgba(255, 255, 255, ${ss.opacity})`;
                ctx.lineWidth = 4;
                ctx.stroke();

                ss.x += ss.speed;
                ss.opacity -= 0.015;
                if (ss.opacity <= 0 || ss.x > w) shootingStars.splice(i, 1);
            });

            // Rockets
            for (let i = rockets.length - 1; i >= 0; i--) {
                const r = rockets[i];
                r.x += r.vx;
                r.y += r.vy;
                r.vy += 0.25;

                // Trail
                r.trail.push({x: r.x, y: r.y});
                if (r.trail.length > 25) r.trail.shift();

                r.trail.forEach((t, j) => {
                    ctx.globalAlpha = j / r.trail.length;
                    ctx.fillStyle = `hsl(${r.hue}, 100%, 70%)`;
                    ctx.beginPath();
                    ctx.arc(t.x, t.y, 4, 0, Math.PI * 2);
                    ctx.fill();
                });

                if (r.vy >= 0) {
                    createExplosion(r.x, r.y, r.hue);
                    rockets.splice(i, 1);
                }
            }

            // Firework particles
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.vx *= 0.98;
                p.vy += 0.15;
                p.x += p.vx;
                p.y += p.vy;
                p.life--;

                if (p.life <= 0) {
                    particles.splice(i, 1);
                    continue;
                }

                ctx.globalAlpha = p.life / p.maxLife;
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, (p.life / p.maxLife) * 6 + 1, 0, Math.PI * 2);
                ctx.fill();
            }

            requestAnimationFrame(animate);
        }
        animate();

        // Messages
        const textDiv = document.getElementById('text');
        const messages = [
            "My dearest Kopal Seth ‚ù§Ô∏è",
            "You are the most beautiful soul I've ever known...",
            "Your smile lights up the universe,",
            "Your laughter is my favorite melody,",
            "Every moment with you feels like magic,",
            "You make my heart beat stronger every day,",
            "You are my dream come true,",
            "My forever, my always, my everything,",
            "I love you more than all the stars in the sky,",
            "Kopal Seth, you are my soulmate...",
            "Will you make me the happiest person in the world?"
        ];

        let currentIndex = 0;
        function typeWriter(message, callback) {
            textDiv.innerHTML = '';
            let i = 0;
            const interval = setInterval(() => {
                textDiv.innerHTML += message.charAt(i);
                i++;
                if (i > message.length) {
                    clearInterval(interval);
                    if (callback) callback();
                }
            }, 90);
        }

        function showNext() {
            if (currentIndex < messages.length - 1) {
                typeWriter(messages[currentIndex], () => {
                    currentIndex++;
                    setTimeout(showNext, 4000);
                });
            } else {
                // Final proposal
                textDiv.innerHTML = '';
                const proposalText = document.createElement('div');
                proposalText.id = 'proposal';
                proposalText.innerHTML = 'Will you marry me?<br><span style="font-size:90px;">Kopal Seth ‚ù§Ô∏è</span>';
                textDiv.appendChild(proposalText);

                // Yes button
                const yesBtn = document.createElement('button');
                yesBtn.id = 'yes';
                yesBtn.textContent = 'Yes! ‚ù§Ô∏è';
                yesBtn.onclick = () => {
                    textDiv.innerHTML = '<div id="celebration">YES!!! ‚ù§Ô∏è<br>My heart is exploding with joy!<br>Forever yours, my eternal love Kopal Seth<br>We will write our beautiful story together ‚ú®</div>';
                    launchHearts();
                    launchFireworks();
                };
                textDiv.appendChild(yesBtn);

                // No button (playful evasion)
                const noBtn = document.createElement('button');
                noBtn.id = 'no';
                noBtn.textContent = 'No';
                const funnyTexts = ['No way!', 'Think again ‚ù§Ô∏è', 'Really?', 'Please? ü•π', 'You sure?', 'My heart says yes!', 'Try again darling', 'Not an option üòò'];
                noBtn.onmouseover = noBtn.onclick = () => {
                    const maxX = window.innerWidth - 200;
                    const maxY = window.innerHeight - 150;
                    noBtn.style.left = Math.random() * maxX + 'px';
                    noBtn.style.top = Math.random() * maxY + 'px';
                    noBtn.textContent = funnyTexts[Math.floor(Math.random() * funnyTexts.length)];
                };
                textDiv.appendChild(noBtn);
            }
        }

        // Start
        setTimeout(() => {
            typeWriter(messages[0], () => {
                currentIndex++;
                setTimeout(showNext, 4000);
            });
        }, 1000);
    </script>
</body>
</html>
